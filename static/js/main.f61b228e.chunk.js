(this.webpackJsonptripresso=this.webpackJsonptripresso||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),c=n.n(r),a=n(4),o=n.n(a),s=(n(19),n(20),n(3)),l=(n(21),n(7)),d=n.n(l),u=n(6);n(10);function b(e){var t=e.groupProp,n=e.title,r="MM/DD(dd)",c="\u53ef\u552e",a="\u4f4d",o={container:{marginRight:"5px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},dateContainer:{fontSize:"12px",color:"#28b0dc",cursor:"pointer"},seatContainer:{marginTop:"3px"},seat:{},popup:{background:"gray",color:"white",borderRadius:"0",fontWeight:"500",fontSize:"10px",width:"250px"}},s=Object(i.jsx)("div",{className:"date-container",style:o.dateContainer,children:d()(t.date).format(r)}),l=Object(i.jsx)("div",{style:o.seatContainer,children:Object(i.jsx)("button",{className:"seat",style:o.seat,children:"".concat(c).concat(t.quantity).concat(a)})});return Object(i.jsxs)("div",{className:"date-seat-container",style:o.container,children:[Object(i.jsx)(u.a,{on:"hover",arrow:!1,contentStyle:o.popup,trigger:s,position:"bottom left",children:"".concat(n," ").concat(d()(t.date).format())})," ",Object(i.jsx)(u.a,{on:"hover",arrow:!1,contentStyle:o.popup,trigger:l,position:"bottom left",children:"".concat(n," ").concat(d()(t.date).format())})]})}d.a.updateLocale("zh-tw",{weekdaysMin:"\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d_\u65e5".split("_")});var j=n(11);n(23);function p(e){var t=e.tourDays,n=e.price,r="\u5143\u8d77",c=!0,a="text",o="\u5929",s={number:{color:"orange",fontWeight:"900",fontSize:"25px"},letter:{color:"black",fontWeight:"400",fontSize:"15px"},container:{width:"180px",textAlign:"right"}};return Object(i.jsxs)("div",{className:"price-container",style:s.container,children:[Object(i.jsx)("span",{className:"day-number",style:s.number,children:t}),Object(i.jsx)("span",{className:"day",style:s.letter,children:o}),Object(i.jsx)("span",{className:"price-number",style:s.number,children:Object(i.jsx)(j.a,{value:n,displayType:a,thousandSeparator:c,prefix:"",renderText:function(e){return"".concat(e)}})}),Object(i.jsx)("span",{className:"currency",style:s.letter,children:r})]})}n(24);function h(e){var t=e.tag;return Object(i.jsx)("div",{className:"tag-container",style:{padding:"1px",marginLeft:"5px",borderRadius:"10px",borderStyle:"solid",borderColor:"#28b0dc",borderWidth:"1px",color:"#28b0dc",cursor:"default",height:"20px"},children:Object(i.jsx)("div",{children:t})})}n(25);function f(e){var t=e.trip,n=Object(r.useState)(!1),c=Object(s.a)(n,2),a=c[0],o=c[1],l=Object(r.useState)(!0),d=Object(s.a)(l,2),j=(d[0],d[1]),f=Object(r.useState)(3),x=Object(s.a)(f,2),g=x[0],O=x[1],m=Object(r.useState)(!1),v=Object(s.a)(m,2),y=v[0],w=v[1],S=function(){3===g?(t.tags&&O(t.tags.length),w(!0)):(t.tags&&O(3),w(!1))},C="\u66f4\u591a\u65e5\u671f",N="\u66f4\u5c11\u65e5\u671f",k={container:{display:"flex",flexDirection:"row",height:"200px",width:"60%",margin:"2%",background:"white"},img:{width:"100%",height:"100%"},imgContainer:{width:"20%",height:"100%"},detailContainer:{paddingLeft:"20px",paddingTop:"2px",width:"80%",display:"flex",flexDirection:"column",justifyContent:"space-between"},title:{display:"flex",height:"40px",left:"0",fontWeight:"bold",cursor:"pointer"},tags:{display:"flex",flexDirection:"row",height:"100px"},dateSeatPriceContainer:{padding:"15px",paddingLeft:"0px",borderTop:"solid 1px #efefef",height:"40px",display:"flex",flexDirection:"row",justifyContent:"space-between",bottom:"0"},date:{display:"flex",flexDirection:"row",width:"70%"},price:{width:"30%",cursor:"pointer"},popup:{background:"gray",color:"white",borderRadius:"0",fontWeight:"500",fontSize:"10px",width:"250px"},btnShowMore:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",cursor:"pointer",fontSize:"12px",color:"#28b0dc",fontWeight:"bold"}},_=Object(i.jsx)("div",{className:"title",style:k.title,children:t.title}),I=function(){return Object(i.jsx)("div",{className:"btn-show-more-container",style:k.btnShowMore,children:Object(i.jsx)("div",{className:"btn-show-more",onClick:S,children:y?Object(i.jsx)("span",{children:N}):Object(i.jsx)("span",{children:C})})})},D=function(){return Object(i.jsx)("div",{className:"img-container",style:k.imgContainer,children:Object(i.jsx)("img",{className:a?"img mouse-over-img":"img",style:k.img,src:t.image_url,alt:""})})},L=function(){return Object(i.jsx)("div",{className:"tags",style:k.tags,children:t.tags&&t.tags.map((function(e,t){return Object(i.jsx)(h,{tag:e},t)}))})},z=function(){return Object(i.jsxs)("div",{className:"price",style:k.price,children:[" ",Object(i.jsx)(p,{tourDays:t.tour_days,price:t.min_price})," "]})};return Object(i.jsxs)("div",{onMouseOver:function(e){o(!0),j(!1)},onMouseLeave:function(e){o(!1),j(!0)},className:a?"trip-container mouse-over-container":"trip-container",style:k.container,children:[Object(i.jsx)(D,{}),Object(i.jsxs)("div",{className:"detail-container",style:k.detailContainer,children:[Object(i.jsx)(u.a,{on:"hover",arrow:!1,contentStyle:k.popup,trigger:_,position:"center",children:t.title}),Object(i.jsx)(L,{}),Object(i.jsxs)("div",{className:"date-seat-price-container",style:k.dateSeatPriceContainer,children:[Object(i.jsxs)("div",{className:"date",style:k.date,children:[t.group&&t.group.slice(0,g).map((function(e,n){return Object(i.jsx)(b,{groupProp:e,title:t.title},n)})),t.group.length>g?Object(i.jsx)(I,{}):Object(i.jsx)("div",{})]}),Object(i.jsx)(z,{})]})]})]})}function x(e){var t=e.sortingOption,n=Object(r.useState)(null),c=Object(s.a)(n,2),a=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Object(r.useState)([]),p=Object(s.a)(j,2),h=p[0],x=p[1];return Object(r.useEffect)((function(){fetch("https://interview.tripresso.com/tour/search").then((function(e){return e.json()})).then((function(e){switch(b(!0),t){case 0:break;case 1:e.data.tour_list.sort((function(e,t){return parseInt(e.min_price,10)-parseInt(t.min_price,10)}));break;case 2:!function(e){e.data.tour_list.sort((function(e,t){return parseInt(t.min_price,10)-parseInt(e.min_price,10)}))}(e)}x(e)}),(function(e){b(!0),o(e)}))}),[t]),a?Object(i.jsxs)("div",{children:["Error: ",a.message]}):u?Object(i.jsx)("div",{children:h&&h.data&&h.data.tour_list.map((function(e,t){return e&&Object(i.jsx)(f,{trip:e},t)}))}):Object(i.jsx)("div",{children:"Loading..."})}var g=n(2),O=(n(26),n(13));function m(e){var t=e.setSortingOption,n=Object(r.useState)(null),c=Object(s.a)(n,2),a=c[0],o=c[1],l=Object(r.useState)(!0),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Object(r.useState)(!1),p=Object(s.a)(j,2),h=p[0],f=p[1],x={backgroundColorGlobal:"#efefef",selectBtnPlaceholderLabel:"\u50f9\u683c",normalBtnLabel:"\u7cbe\u9078\u8a55\u5206",selectBtnOptions:[{value:1,label:"\u50f9\u683c\uff1a\u4f4e\u81f3\u9ad8"},{value:2,label:"\u50f9\u683c\uff1a\u9ad8\u81f3\u4f4e"}]},m={container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"60%",height:"50px",background:"white",margin:"2%",marginTop:"50px"},btnItemContainer:{height:"100%",width:"150px",border:"none"},select:{menu:function(e,t){return Object(g.a)(Object(g.a)({},e),{},{marginTop:0,border:"none"})},menuList:function(e,t){return Object(g.a)(Object(g.a)({},e),{},{paddingTop:0,paddingBottom:0})},control:function(e,t){return Object(g.a)(Object(g.a)({},e),{},{backgroundColor:h?"gray":"white",height:"100%",width:"100%",border:0,boxShadow:"none",borderRadius:"0px","&:hover":{backgroundColor:h?"gray":x.backgroundColorGlobal}})},placeholder:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"gray",fontSize:"17px",fontWeight:"thick"})},singleValue:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:h?"white":"gray",fontSize:"17px",fontWeight:"thick"})},input:function(e){return Object(g.a)(Object(g.a)({},e),{},{opacity:"0",zIndex:"1"})},dropdownIndicator:function(e){return Object(g.a)(Object(g.a)({},e),{},{color:h?"white":"gray","&:hover":{color:h?"white":"gray"}})},option:function(e,t){t.data,t.isDisabled,t.isFocused,t.isSelected;return Object(g.a)(Object(g.a)({},e),{},{color:"black",backgroundColor:"white",fontSize:"17px",fontWeight:"thick","&:hover":{backgroundColor:"#efefef"}})}}};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"navbar-container",style:m.container,children:[Object(i.jsx)("div",{className:"navbar-item-container",style:m.btnItemContainer,children:Object(i.jsx)("button",{className:u?"normal-btn-active":"normal-btn-inactive",onClick:function(){f(!1),o(null),b(!0),t(0)},children:x.normalBtnLabel})}),Object(i.jsx)("div",{className:"navbar-item-container",style:m.btnItemContainer,children:Object(i.jsx)(O.a,{value:a,styles:m.select,className:h?"select-btn-active":"select-btn-inactive",placeholder:x.selectBtnPlaceholderLabel,options:x.selectBtnOptions,onChange:function(e){f(!0),o(e),b(!1),t(e.value)},components:{IndicatorSeparator:function(){return null}}})})]})})}function v(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(i.jsx)("div",{className:"navbar-container",children:Object(i.jsx)(m,{setSortingOption:c})}),Object(i.jsx)("div",{className:"all-trip-container",children:Object(i.jsx)(x,{sortingOption:n})})]})}function y(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(v,{})})}var w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),w()}},[[29,1,2]]]);
//# sourceMappingURL=main.f61b228e.chunk.js.map